"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(a="Object"===a&&t.constructor?t.constructor.name:a)||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}!function(A){var _={answers:{},requiredBtn:{},currentSection:null,lastSection:null,lastSlide:null,activityPoints:null,activityPercent:null,questionSelect:{}},N=function(){A(".question").length==A(".question").filter('[data-scorm-answered="true"]').length&&o()},T=function(){A('.section[data-section-activity="true"].is-active .question').length==A('.section[data-section-activity="true"].is-active .question').filter('[data-scorm-answered="true"]').length&&A(".section.is-active .btn-nav-next").removeClass("disabled")},L=function(){A('.question[data-scorm-percent="true"]').length==A('.question[data-scorm-percent="true"]').filter('[data-scorm-answered="true"]').length&&o()},a=function(){Object.keys(_.requiredBtn).length&&A(".required-btn").each(function(){var t=A(this).data("required-btn-id");_.requiredBtn[t]&&A(this).addClass("was-clicked")});var e=A(".required-btn");e.on("click",function(){var t=A(this).data("required-btn-id");A(this).addClass("was-clicked"),_.requiredBtn[t]=1,e.length===e.filter(".was-clicked").length&&o(),M()}),"none"==A(".content-mobile").css("display")&&A(".content-mobile .required-btn").addClass("was-clicked"),"none"==A(".content-desk").css("display")&&A(".content-desk .required-btn").addClass("was-clicked")},s=function(){A(".btn-finish").on("click",function(t){t.preventDefault(),o()})},i=function(){var e=A(".section").length;A.scrollify.setOptions({after:function(t){_.lastSlide=t,_.lastSlide===e-1&&o(),M()}})},M=function(){doLMSSetValue("cmi.suspend_data",JSON.stringify(_)),doLMSCommit("")},n=function(){"incomplete"!=doLMSGetValue("cmi.core.lesson_status")&&(doLMSSetValue("cmi.core.lesson_status","incomplete"),doLMSCommit(""))},o=function(){"completed"!=doLMSGetValue("cmi.core.lesson_status")&&("activity-percent"==A("body").data("scorm-type")&&doLMSSetValue("cmi.core.score.raw",_.activityPercent),doLMSSetValue("cmi.suspend_data",JSON.stringify(_)),doLMSSetValue("cmi.core.lesson_status","completed"),doLMSCommit(""))};A(document).ready(function(){var t,e;doLMSInitialize(""),e=doLMSGetValue("cmi.suspend_data"),(_=null==e||""==e?{}:JSON.parse(e)).answers=_.answers||{},_.requiredBtn=_.requiredBtn||{},_.lastSection=_.lastSection||1,_.questionSelect=_.questionSelect||{},A("body").addClass("data-loaded"),A(".question").each(function(t){if("false"===A(this).attr("data-auto-id"))return!0;var e,a,s=A(this).attr("data-scorm-type"),i=t+1;A(this).attr("data-scorm-id",i),"objective-minmax"===s?(e=A(this).find(".alternative"),a=A(this).find(".question-feedback"),e.each(function(e){var a=A(this).closest(".question-minmax").attr("data-scorm-id"),t=A(this).find("input");A(this).find("label").attr("for","q"+a+"-"+parseInt(e+1)),t.each(function(t){A(this).attr("id","q"+i+"opt"+parseInt(e+1)+"-"+parseInt(t+1)),A(this).attr("name","q"+a+"-"+parseInt(e+1))})}),a.each(function(t){A(this).attr("data-scorm-feedback",(t+10).toString(36).toUpperCase())})):"objective-associative"===s?(e=A(this).find(".question-alternative"),a=A(this).find(".question-feedback"),e.each(function(e){var a=A(this).closest(".question").attr("data-scorm-id"),t=A(this).find("input");A(this).find("label").attr("for","q"+a+"-"+parseInt(e+1)),t.each(function(t){A(this).attr("id","q"+i+"opt"+parseInt(e+1)+"-"+parseInt(t+1)),A(this).attr("name","q"+a+"-"+parseInt(e+1))})}),a.data("score-minmax")&&a.each(function(t){A(this).attr("data-scorm-feedback",(t+10).toString(36).toUpperCase())})):A(this).find("input").each(function(t){t=parseInt(t+1),A(this).next("label").attr("for","q"+i+"opt"+t),A(this).attr("id","q"+i+"opt"+t),A(this).attr("name","q"+i)})}),A(".question").filter('[data-scorm-type="objective-associative"]').each(function(){var t=A(this);if("true"===!t.data("input-size-auto"))return!1;var t=t.find('input[type="text"]'),e=0;t.each(function(){var t=A(this).data("value").toString().length;e<=t&&(e=t)}),t.each(function(){A(this).attr({size:parseInt(e),maxlength:e,autocomplete:"off"})})}),function(){_.activityPoints&&A(".activity-percent-points").text(_.activityPoints),_.activityPercent&&A(".activity-percent").text(_.activityPercent);var j=_.activityPoints||"0";Object.keys(_.answers).length&&A(".question").each(function(){var a=A(this),t=A(this).data("scorm-id"),s=_.answers[t];if(s){if("discursive"===s.type)for(var e in a.addClass("question-answered"),a.attr("data-scorm-answered",!0),s.values){var i=s.values[e];a.find("textarea").filter('[data-exercicio-textarea="'.concat(e,'"]')).val(i),a.find("textarea").filter('[data-output-textarea="'.concat(e,'"]')).val(i)}if("discursive-multiple"===s.type)for(e in a.addClass("question-answered"),a.attr("data-scorm-answered",!0),a.find(".btn-edit").addClass("is-active"),a.find("textarea").attr("readonly",!0),s.values){i=s.values[e];a.find("textarea").filter('[data-exercicio-textarea="'.concat(e,'"]')).val(i)}if("question-select"===s.type&&(a.attr("data-attempt",s.attempts),(o=Number(a.data("scorm-attempt")))<=s.attempts||s.score==s.totalScore?(a.find(".btn-save").addClass("disabled").prop("disabled",!0),a.addClass("show-last-feedback"),a.attr("data-scorm-answered",!0),a.addClass("feedback-"+s.selectFeedback+"-open"),"negative"==s.selectFeedback&&a.find(".last-feedback").addClass("is-active")):s.attempts<o&&0<s.attempts&&(a.find(".btn-save").removeClass("disabled").prop("disabled",!1),a.addClass("feedback-"+s.selectFeedback+"-open"),"negative"==s.selectFeedback&&(a.find(".first-feedback").addClass("is-active"),a.find("select").addClass("chosen-answer")))),"objective"===s.type&&(a.attr("data-scorm-attempt-total",s.attempts),((o=Number(a.data("scorm-attempt")))<=s.attempts||"1"==s.score)&&(a.find(".btn-save").addClass("disabled").prop("disabled",!0),a.find("input:radio").prop("disabled",!0),a.addClass("show-last-feedback"),a.attr("data-scorm-answered",!0)),a.find("input:radio").filter('[value="'+s.value+'"]').prop("checked",!0),a.find(".question-feedback").filter('[data-scorm-feedback="'+s.value+'"]').addClass("is-open")),"objective-multiple"===s.type){a.attr("data-scorm-attempt-total",s.attempts),((o=Number(a.data("scorm-attempt")))<=s.attempts||s.score==s.totalScore)&&(a.find(".btn-save").addClass("disabled").prop("disabled",!0),a.find("input:checkbox").prop("disabled",!0),a.addClass("show-last-feedback"),a.attr("data-scorm-answered",!0));for(var n=0;n<s.checkboxId.length;n++)a.find("input:checkbox").filter('[id="'+s.checkboxId[n]+'"]').prop("checked",!0);"positive"==s.checkboxFeedback&&a.find('.question-feedback[data-scorm-feedback="positive"]').addClass("is-open"),"negative"==s.checkboxFeedback&&a.find('.question-feedback[data-scorm-feedback="negative"]').addClass("is-open")}if("objective-minmax"===s.type&&(a.attr("data-scorm-attempt-total",s.attempts),o=Number(a.data("scorm-attempt")),d=s.score||0,0<s.attempts&&(a.find(".btn-save").addClass("disabled").prop("disabled",!0),a.find("input:radio").prop("disabled",!0),a.attr("data-scorm-answered",!0),a.find(".question-minmax-total").text(d)),s.attempts<o&&a.find(".btn-try-again").addClass("is-active"),s.radios.forEach(function(t,e){A("input#"+t).prop("checked",!0)}),a.find(".question-feedback").filter('[data-scorm-feedback="'+s.feedback+'"]').addClass("is-open")),"objective-associative"===s.type){a.attr("data-scorm-attempt-total",s.attempts);var o=Number(a.data("scorm-attempt")),d=a.find(".input-text"),r=a.find(".question-feedback");if(d.each(function(){var t=A(this).attr("id"),t=s.inputTextAnswers[t].answered||"";A(this).val(t)}),o<=s.attempts||s.score==s.totalScore)for(var t in a.find(".btn-save").addClass("disabled").prop("disabled",!0),d.prop("disabled",!0),a.addClass("show-last-feedback"),a.attr("data-scorm-answered",!0),a.find(".question-associative-total").text(s.score),s.inputTextAnswers)0==s.inputTextAnswers[t].correct&&a.find("#".concat(t)).closest(".question-alternative").addClass("not-correct");r.removeClass("is-open").filter('[data-scorm-feedback="'.concat(s.feedback,'"]')).addClass("is-open")}"drag-and-drop"===s.type&&(a.attr("data-scorm-attempt-total",s.attempt),r=parseInt(a.attr("data-scorm-attempt")),"positive"===s.feedback&&(a.attr("data-scorm-answered",!0),a.addClass("show-last-feedback"),a.find(".question-feedback").removeClass("is-open").filter('[data-scorm-feedback="positive"]').addClass("is-open"),a.find(".btn-save").addClass("disabled"),a.find(".btn-reset").addClass("disabled")),"negative"===s.feedback&&(a.addClass("answered"),a.find(".question-feedback").removeClass("is-open").filter('[data-scorm-feedback="negative"]').addClass("is-open"),a.find(".btn-save").addClass("disabled")),s.attempt===r&&(a.attr("data-scorm-answered",!0),a.addClass("show-last-feedback"),a.find(".btn-save").addClass("disabled"),a.find(".btn-reset").addClass("disabled")),Object.keys(s.dropItem).forEach(function(t){var e=a.find('.droppable[data-drop-item-id="'+t+'"]');s.dropItem[t].forEach(function(t){t=a.find('.draggable[data-drag-item-id="'+t+'"]').addClass("ui-draggable-disabled").html();e.addClass("ui-droppable-disabled"),e.append('<div class="dropped">'+t+"</div>")})}))}}),A(".btn-save").on("click",function(t){t.preventDefault();var e=A(this),a=A(this).closest(".question"),s=a.find(".textarea"),i=a.find("input:radio"),n=a.find("input:checkbox"),o=a.find("input:text"),d=a.find(".question-feedback"),r=a.find("select"),c=a.data("scorm-id"),l=r.length,p=a.data("scorm-total-score"),u=a.data("scorm-percent"),v=a.data("scorm-partial");_.answers[c]={};var f,b,m,h,y,C=a.data("scorm-type"),t=A('.question[data-scorm-percent="true"]').length;if("discursive"==C&&(a.addClass("question-answered").find(".question-output").each(function(){var t=A(this).data("output-textarea"),e=s.filter("[data-exercicio-textarea="+t+"]").val(),a=_.answers[c].values||{};A(this).val(e),a[t]=e,_.answers[c].values=a,_.answers[c].type="discursive"}),a.attr("data-scorm-answered",!0)),"discursive-multiple"==C&&(a.addClass("question-answered"),s.each(function(){A(this).attr("readonly",!0);var t=A(this).data("exercicio-textarea"),e=A(this).val(),a=_.answers[c].values||{};a[t]=e,_.answers[c].values=a,_.answers[c].type="discursive-multiple"}),a.attr("data-scorm-answered",!0),a.find(".btn-edit").addClass("is-active")),"question-select"==C&&(k=a.attr("data-attempt"),q=Number(a.data("scorm-attempt")),k=parseInt(k)+1,a.attr("data-attempt",k),g=0,f=[],a.find("select.chosen-answer").each(function(t){g+=isNaN(parseInt(A(this).val()))?0:parseInt(A(this).val()),f[t]=A(this).attr("id")}),r=l==g?(x=d.removeClass("is-open").filter(".question-feedback-positive").addClass("is-open"),"positive"):(x=d.removeClass("is-open").filter(".question-feedback-negative").addClass("is-open"),"negative"),(q<=k||g==l)&&(A(this).closest(".btn-save").addClass("disabled").prop("disabled",!0),A(this).closest(".question").addClass("show-last-feedback"),a.attr("data-scorm-answered",!0)),1==a.data("scorm-percent")&&(j=g==l?parseFloat(j)+parseFloat(1):parseFloat(j),_.activityPoints=j,_.activityPercent=(100*_.activityPoints/t).toFixed(2),A(".activity-percent-points").text(_.activityPoints),A(".activity-percent").text(_.activityPercent)),_.answers[c].score=g,_.answers[c].totalScore=l,_.answers[c].selects=f,_.answers[c].selectFeedback=r,_.answers[c].type="question-select",_.answers[c].attempts=k),"objective"==C&&(k=Number(a.attr("data-scorm-attempt-total")?a.attr("data-scorm-attempt-total"):0),a.attr("data-scorm-attempt-total",k+=1),q=Number(a.data("scorm-attempt")),g=i.filter('[data-scorm-target="1"]').is(":checked")?"1":"0",m=i.filter(":checked").val(),x=d.removeClass("is-open").filter('[data-scorm-feedback="'+m+'"]').addClass("is-open"),(q<=k||"1"==g)&&(A(this).closest(".btn-save").addClass("disabled").prop("disabled",!0),i.prop("disabled",!0),A(this).closest(".question").addClass("show-last-feedback"),a.attr("data-scorm-answered",!0)),1==a.data("scorm-percent")&&(j="1"==g?parseFloat(j)+parseFloat(1):parseFloat(j),_.activityPoints=j,_.activityPercent=(100*_.activityPoints/t).toFixed(2),A(".activity-percent-points").text(_.activityPoints),A(".activity-percent").text(_.activityPercent)),_.answers[c].value=m,_.answers[c].score=g,_.answers[c].type="objective",_.answers[c].attempts=k),"objective-multiple"==C&&(k=Number(a.attr("data-scorm-attempt-total")?a.attr("data-scorm-attempt-total"):0),a.attr("data-scorm-attempt-total",k+=1),q=Number(a.data("scorm-attempt")),g=0,b=[],a.find("input:checkbox:checked").each(function(t){g+=isNaN(parseInt(A(this).val()))?0:parseInt(A(this).val()),b[t]=A(this).attr("id")}),m=p==g?(x=d.removeClass("is-open").filter('[data-scorm-feedback="positive"]').addClass("is-open"),"positive"):(x=d.removeClass("is-open").filter('[data-scorm-feedback="negative"]').addClass("is-open"),"negative"),(q<=k||g==p)&&(A(this).closest(".btn-save").addClass("disabled").prop("disabled",!0),n.prop("disabled",!0),A(this).closest(".question").addClass("show-last-feedback"),a.attr("data-scorm-answered",!0)),1==a.data("scorm-percent")&&(j=g==p?parseFloat(j)+parseFloat(1):parseFloat(j),_.activityPoints=j,_.activityPercent=(100*_.activityPoints/t).toFixed(2),A(".activity-percent-points").text(_.activityPoints),A(".activity-percent").text(_.activityPercent)),_.answers[c].score=g,_.answers[c].totalScore=p,_.answers[c].checkboxId=b,_.answers[c].checkboxFeedback=m,_.answers[c].type="objective-multiple",_.answers[c].attempts=k),"objective-minmax"==C&&(I="checkbox"==a.attr("data-input-type")?n:i,k=Number(a.attr("data-scorm-attempt-total")?a.attr("data-scorm-attempt-total"):0),a.attr("data-scorm-attempt-total",k+=1),a.find(".btn-try-again").addClass("is-active"),q=Number(a.data("scorm-attempt")),g=0,h=[],x="",I.filter(":checked").each(function(t){g+=parseInt(A(this).val()),h=[].concat(_toConsumableArray(h),[A(this).attr("id")])}),A(this).closest(".btn-save").addClass("disabled").prop("disabled",!0),I.prop("disabled",!0),a.attr("data-scorm-answered",!0),d.each(function(t){var e=parseInt(d[t].dataset.scoreMin),a=parseInt(d[t].dataset.scoreMax),t=d[t].dataset.scormFeedback;e<=g&&g<=a&&(A(this).closest('.question-minmax .question-feedback[data-scorm-feedback="'+t+'"]').addClass("is-open"),x=t)}),k==q&&a.find(".btn-try-again").removeClass("is-active"),a.find(".question-minmax-total").text(g),_.answers[c].radios=h,_.answers[c].score=g,_.answers[c].feedback=x,_.answers[c].type="objective-minmax",_.answers[c].attempts=k),"objective-associative"==C){var k=Number(a.attr("data-scorm-attempt-total")?a.attr("data-scorm-attempt-total"):0);a.attr("data-scorm-attempt-total",k+=1);var q=Number(a.data("scorm-attempt")),w=a.find(".question-alternative").length,i=d.data("score-minmax"),v=a.data("scorm-partial"),g=0,S={},x="",I=!1;if(o.each(function(t){var e=A(this).data("value").toString(),a=A(this).val().toString(),s=A(this).attr("id"),e=e.toLowerCase()==a.toLowerCase()?1:0;g+=e,S[s]={answered:a,correct:e}}),i?d.each(function(t){var e=d[t].dataset.scoreMinmax.split("-"),a=parseInt(e[0]),e=parseInt(e[1]);a<=g&&g<=e&&(x=d[t].dataset.scormFeedback)}):x=w==g?"positive":"negative",d.removeClass("is-open").filter('[data-scorm-feedback="'.concat(x,'"]')).addClass("is-open"),q==k||g==w)for(var P in I=!0,e.addClass("disabled").prop("disabled",!0),o.prop("disabled",!0),a.addClass("show-last-feedback"),a.attr("data-scorm-answered",!0),a.find(".question-associative-total").text(g),S)0==S[P].correct&&a.find("#".concat(P)).closest(".question-alternative").addClass("not-correct");u&&I&&(g==w?j=parseFloat(j)+parseFloat(1):v&&(j=(parseFloat(j)+parseFloat(g/w)).toPrecision(2)),_.activityPoints=j,_.activityPercent=(100*_.activityPoints/t).toFixed(2),A(".activity-percent-points").text(_.activityPoints),A(".activity-percent").text(_.activityPercent)),_.answers[c].score=g,_.answers[c].totalScore=w,_.answers[c].inputTextAnswers=S,_.answers[c].feedback=x,_.answers[c].type="objective-associative",_.answers[c].attempts=k}"drag-and-drop"==C&&(v=y=0,v=(w=A(this).closest(".question").find(".droppable")).length,k=a.find(".droppable").data("drop-limit"),C=parseInt(a.attr("data-scorm-attempt")),F=a.attr("data-scorm-attempt-total")?a.attr("data-scorm-attempt-total"):0,F=parseInt(F)+1,a.attr("data-scorm-attempt-total",F),a.addClass("answered"),_.answers[c].dropItem={},_.activityPoints=_.activityPoints||"0",_.activityPercent=_.activityPercent||"0",w.each(function(t,e){var e=e,s=A(e).data("accept-value"),i=(A(A(e).find(".dropped").data("value"))[0],A(e).data("drop-item-id")),n=[];A(e).find(".dropped").each(function(t,e){var a=A(this).data("drag-item-id");n[t]=a,_.answers[c].dropItem[i]=n,A(this).data("value")===s&&(y+=1)})}),y===(1<k?k:v)?("true"===a.attr("data-scorm-percent")&&(_.activityPoints=parseFloat(_.activityPoints)+parseFloat(1)),a.attr("data-scorm-answered",!0),a.addClass("show-last-feedback"),a.find(".question-feedback").removeClass("is-open").filter('[data-scorm-feedback="positive"]').addClass("is-open"),a.find(".btn-save").addClass("disabled"),a.find(".btn-reset").addClass("disabled"),_.answers[c].feedback="positive"):(a.find(".question-feedback").removeClass("is-open").filter('[data-scorm-feedback="negative"]').addClass("is-open"),a.find(".btn-reset").addClass("is-active"),_.answers[c].feedback="negative"),F===C&&(a.attr("data-scorm-answered",!0),a.addClass("show-last-feedback"),a.find(".btn-save").addClass("disabled"),a.find(".btn-reset").addClass("disabled")),_.activityPercent=(100*_.activityPoints/t).toFixed(),A(".activity-percent-points").text(_.activityPoints),A(".activity-percent").text(_.activityPercent),_.answers[c].type="drag-and-drop",_.answers[c].attempt=F,A(this).addClass("disabled"));var t=A("body").data("scorm-type"),F=A(".section.is-active").data("section-activity");"activity"===t&&N(),"activity-percent"===t&&L(),F&&T(),M()}),A(".btn-edit").on("click",function(t){t.preventDefault(),A(this).closest(".question").removeClass("question-answered")}),A(".btn-close-feedback").on("click",function(t){t.preventDefault(),A(this).closest(".question").removeClass("question-answered"),A(this).closest(".question-feedback").removeClass("is-open")}),A(".discursive-multiple .btn-edit").on("click",function(t){t.preventDefault();var e=A(this).closest(".question"),t=e.find("textarea");e.attr("data-scorm-answered",!1),t.attr("readonly",!1),A(this).removeClass("is-active")}),A(".question-minmax .btn-try-again").on("click",function(t){t.preventDefault();t=A(this).closest(".question-minmax");t.attr("data-scorm-answered",!1),t.find(".question-feedback").removeClass("is-open"),t.find("input").prop("checked",!1).attr("disabled",!1),t.find(".question-minmax-total").text("0"),A(this).removeClass("is-active")})}(),A(".draggable").draggable({revert:"invalid"}),A(".droppable").each(function(){var i=parseInt(A(this).data("drop-limit"));A(this).droppable({accept:"."+A(this).data("accept"),drop:function(t,e){var a=A(this),s=A(e.helper).clone().removeAttr("style").removeClass().addClass("dropped");s.on("click",function(){s.remove(),A(e.draggable).draggable("option","disabled",!1),a.droppable("option","disabled",!1)}),s.data("drop")&&(a.append(s),A(e.draggable).removeAttr("style").draggable("option","disabled",!0)),s.data("drag-stop")&&A(e.draggable).draggable("option","disabled",!0),i==a.find(".dropped").length&&a.droppable("option","disabled",!0),s.trigger("drop-append"),A(this).closest(".question").find(".btn-save").removeClass("disabled")}})}),A(".question .btn-reset").on("click",function(){var t=A(this).closest('.question[data-scorm-type="drag-and-drop"]');t.find(".dropped").click(),t.find(".draggable").draggable("option","disabled",!1),t.find(".droppable").removeClass("ui-droppable-disabled"),t.find(".droppable .dropped").remove(),t.removeClass("answered"),t.find(".question-feedback").removeClass("is-open")}),A(".question-select select").change(function(){A(this).addClass("chosen-answer"),A(this).closest(".question-select").find("select.chosen-answer").length===A(this).closest(".question-select").find("select").length&&A(this).closest(".question-select").find(".btn-save").removeClass("disabled")}),A(".question-select .btn-save").on("click",function(){var t=A(this).closest(".question-select"),e=parseInt(t.attr("data-attempt"))+1,a=t.attr("data-scorm-attempt"),s=t.find("select"),t=s.length,i=s.closest(".question-select").data("question-select-id"),n=0;_.questionSelect[i]={},_.questionSelect[i].selectItem={};A(s).each(function(t,e){var a=e.id,s=+A("#".concat(a)).find(":selected").val(),e=+A("#".concat(a)).find(":selected").data("option");n=+n+s,_.questionSelect[i].selectItem[a]=e});_.questionSelect[i].selectTotalCorrect=n,_.questionSelect[i].selectTotal=t,n===t?(A(this).closest(".question").removeClass("feedback-negative-open"),A(this).closest(".question").addClass("question-answered feedback-positive-open"),A(this).closest(".question-feedback-positive").addClass("feedback-open"),A(this).closest(".btn-save").addClass("disabled"),A(".body").addClass("feedback-is-open")):n!==t&&(A(this).closest(".question").addClass("feedback-negative-open"),a<=e?(A(this).closest(".question").find(".question-feedback-negative .last-feedback").addClass("is-active"),A(this).closest(".question").find(".question-feedback-negative .first-feedback").removeClass("is-active"),A(this).closest(".question").addClass("show-last-feedback"),A(this).closest(".btn-save").addClass("disabled")):A(this).closest(".question").find(".question-feedback-negative .first-feedback").addClass("is-active")),A(".question-select .btn-close-feedback").on("click",function(){A(this).closest(".question").removeClass("feedback-negative-open"),A(this).closest(".question").removeClass("feedback-positive-open"),A(this).closest(".question-feedback-positive").removeClass("is-open"),A(this).closest(".question-feedback-negative").removeClass("is-open")}),M()}),Object.keys(_.questionSelect).length&&A(".question-select").each(function(){var e=A(this),t=A(this).data("question-select-id"),a=_.questionSelect[t];a&&(_.questionSelect[t].selectTotalCorrect===_.questionSelect[t].selectTotal&&e.find(".btn-save").addClass("disabled"),Object.keys(a.selectItem).forEach(function(t){e.find('select[id="'+t+'"]').find('option[data-option="'+a.selectItem[t]+'"]').attr("selected","selected")}))}),A('.question input[type="radio"]').on("click",function(){A(this).closest(".question").find(".btn-save").removeClass("disabled").prop("disabled",!1)}),A('.question input[type="checkbox"]').on("click",function(){A(this).closest(".question").find(".btn-save").removeClass("disabled").prop("disabled",!1)}),A('.question input[type="text"]').on("click",function(){A(this).closest(".question").find(".btn-save").removeClass("disabled").prop("disabled",!1)}),A.scrollify.move(_.lastSlide),t=A(".section").length,_.currentSection?(A(".section").removeClass("is-active"),A('.section[data-section-id="'+_.currentSection+'"]').addClass("is-active"),A("body").attr("data-section-current",_.currentSection),A(".progress-bar .progress-value").text(parseInt(100*_.lastSection/t)+"%"),A(".progress-bar .progress-fill").css("width",parseInt(100*_.lastSection)/t+"%"),A(".menu .btn-nav").each(function(){var t=A(this).data("btn-nav-id");A(this).removeClass("is-active"),t<=_.lastSection&&A(this).removeClass("disabled"),t==_.currentSection&&A(this).addClass("is-active").removeClass("disabled")}),setTimeout(function(){A(".drag-the-handle").twentytwenty()},1e3)):(A(".progress-bar .progress-value").text(parseInt(100/t)+"%"),A(".progress-bar .progress-fill").css("width",parseInt(100/t)+"%")),A(".btn-nav-next").each(function(){var t=A(this),e=A(this).closest("section"),a=A(this).closest("section").data("section-id"),s=e.find(".question").length,i=e.find(".question").filter('[data-scorm-answered="true"]').length;1==e.data("section-activity")&&t.addClass("disabled"),(a<_.lastSection||s==i)&&t.removeClass("disabled")}),A(".menu .btn-toggle-menu").on("click",function(){A(this).closest(".menu").toggleClass("is-active")}),A(".btn-nav").on("click",function(){A(this).hasClass("btn-nav-prev")&&(_.currentSection=A(this).closest(".section").data("section-id")-1),A(this).hasClass("btn-nav-next")&&(_.currentSection=A(this).closest(".section").data("section-id")+1,_.currentSection>=_.lastSection&&(_.lastSection=_.currentSection)),A(this).hasClass("btn-nav-id")&&(_.currentSection=A(this).data("btn-nav-id"),_.currentSection>=_.lastSection&&(_.lastSection=_.currentSection),A(this).closest(".menu").removeClass("is-active")),1==A(this).data("reset-progress")&&(_.lastSection=1),A(".section").removeClass("is-active"),A('.section[data-section-id="'+_.currentSection+'"]').addClass("is-active"),A("body").attr("data-section-current",_.currentSection),A(".progress-bar .progress-value").text(parseInt(100*_.lastSection/t)+"%"),A(".progress-bar .progress-fill").css("width",100*_.lastSection/t+"%"),A(".menu .btn-nav").removeClass("is-active"),A('.menu .btn-nav[data-btn-nav-id="'+_.currentSection+'"]').addClass("is-active").removeClass("disabled"),M(),A(".plyr__controls").find('button[aria-label="Pause"]').click(),A("html, body").animate({scrollTop:A("body").offset().top},1e3),setTimeout(function(){A(".drag-the-handle").twentytwenty()},1e3),A(".slideshow-list").slick("setPosition"),AOS.refresh()}),"visualization-btn"===(e=A("body").data("scorm-type"))&&s(),"visualization-last"===e&&i(),"visualization-required-btn"===e&&a(),"visualization"===e&&o(),"activity"===e&&N(),"activity-percent"===e&&L(),"completed"!=doLMSGetValue("cmi.core.lesson_status")&&n()})}(jQuery);